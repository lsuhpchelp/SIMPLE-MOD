Bootstrap: docker
From: ubuntu:24.04


################################################################################
%labels
################################################################################

Maintainer      Jason Li
Version         1.1.0
Description     SIMPLE-MOD is a QT-based GUI tool to automatically generate module keys for easy access of container-based software packages.

################################################################################
%files
################################################################################

* /opt/SIMPLE-MOD/

################################################################################
%setup
################################################################################

echo "
WARNING: This recipe must be built in the repository's root directory!"

################################################################################
%post
################################################################################

# Install dependencies

apt update
apt install -y python3 python3-pyqt6 qt6-base-dev qmake6
apt clean

################################################################################
%runscript
################################################################################

cd /opt/SIMPLE-MOD
python3 simple-mod.py

################################################################################
%environment
################################################################################

export QT_QPA_PLATFORM=xcb
